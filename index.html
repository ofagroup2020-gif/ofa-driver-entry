<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>OFA GROUP Driver Registration App</title>

  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#ffffff" />

  <link rel="stylesheet" href="style.css?v=20260129-2" />

  <!-- jsPDF & html2canvas (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
  <div class="bg"></div>

  <div class="app">
    <!-- TOP -->
    <div class="topbar">
      <div class="topLeft">
        <div class="logoWrap" id="logoWrap">
          <!-- ロゴ画像があるなら public/logo.png などに置いてここを差し替え -->
          <img class="logoImg" id="logoImg" src="public/logo.png" alt="OFA" onerror="this.style.display='none';document.getElementById('logoWrap').classList.add('logoFallback');">
          <div class="logoFallbackBadge">OFA</div>
        </div>
        <div class="brand">
          <div class="brandName">OFA GROUP</div>
          <div class="brandSub">Driver Registration App</div>
        </div>
      </div>

      <div class="chip">
        <div class="dot"></div>
        <div><b>STEP</b> <span id="stepNow">1</span> / <span id="stepTotal">8</span></div>
      </div>
    </div>

    <!-- PROGRESS -->
    <div class="progressZone">
      <div class="progressBar">
        <div class="barFill" id="barFill"></div>
      </div>
      <div class="dots" id="dots"></div>
    </div>

    <!-- CARD -->
    <div class="card">
      <!-- STEP 1 -->
      <section class="step active" data-step="1">
        <div class="head">
          <span class="badge b1">PROFILE</span>
          <h1>ドライバー基本情報</h1>
          <p>本登録はドライバーご本人が行ってください。</p>
        </div>

        <div class="grid">
          <div class="field">
            <label for="name">氏名（漢字）</label>
            <input id="name" placeholder="例）山田 太郎" autocomplete="name">
          </div>
          <div class="field">
            <label for="kana">フリガナ</label>
            <input id="kana" placeholder="例）ヤマダ タロウ">
          </div>
          <div class="field">
            <label for="phone">電話番号</label>
            <input id="phone" placeholder="090-xxxx-xxxx" inputmode="tel" autocomplete="tel">
          </div>
          <div class="field">
            <label for="email">メールアドレス</label>
            <input id="email" placeholder="example@gmail.com" inputmode="email" autocomplete="email">
          </div>
        </div>

        <div class="field mt">
          <label for="dob">生年月日</label>
          <input id="dob" type="date">
        </div>

        <div class="nav">
          <button class="btnGhost" id="backBtn" type="button">戻る</button>
          <button class="btnPrimary" id="nextBtn" type="button">次へ</button>
        </div>
      </section>

      <!-- STEP 2 -->
      <section class="step" data-step="2">
        <div class="head">
          <span class="badge b2">ADDRESS</span>
          <h1>住所情報</h1>
          <p>日本語で入力してください。</p>
        </div>

        <div class="grid">
          <div class="field">
            <label for="zip">郵便番号</label>
            <input id="zip" placeholder="例）890-0000" inputmode="numeric" autocomplete="postal-code">
          </div>
          <div class="field">
            <label for="pref">都道府県</label>
            <input id="pref" placeholder="例）鹿児島県" autocomplete="address-level1">
          </div>
          <div class="field">
            <label for="city">市区町村</label>
            <input id="city" placeholder="例）鹿児島市" autocomplete="address-level2">
          </div>
          <div class="field">
            <label for="addr1">番地</label>
            <input id="addr1" placeholder="例）○○町1-2-3" autocomplete="street-address">
          </div>
        </div>

        <div class="field mt">
          <label for="addr2">建物名（任意）</label>
          <input id="addr2" placeholder="例）○○マンション101">
        </div>

        <div class="nav">
          <button class="btnGhost" id="backBtn2" type="button">戻る</button>
          <button class="btnPrimary" id="nextBtn2" type="button">次へ</button>
        </div>
      </section>

      <!-- STEP 3 -->
      <section class="step" data-step="3">
        <div class="head">
          <span class="badge b3">AFFILIATION</span>
          <h1>所属区分</h1>
          <p>あなたの所属に近いものを選択してください。</p>
        </div>

        <div class="seg" role="group" aria-label="所属区分">
          <button class="segBtn" type="button" data-aff="協力会社">協力会社</button>
          <button class="segBtn" type="button" data-aff="FC">FC</button>
          <button class="segBtn" type="button" data-aff="個人">個人</button>
        </div>

        <!-- 表示用の所属区分入力欄は「削除」：値は hidden で保持 -->
        <input id="aff" type="hidden" value="">

        <div class="field mt">
          <label for="company">所属会社名（任意）</label>
          <input id="company" placeholder="株式会社○○ / ○○運送 など">
        </div>

        <div class="nav">
          <button class="btnGhost" id="backBtn3" type="button">戻る</button>
          <button class="btnPrimary" id="nextBtn3" type="button">次へ</button>
        </div>
      </section>

      <!-- STEP 4 -->
      <section class="step" data-step="4">
        <div class="head">
          <span class="badge b4">VEHICLE</span>
          <h1>車両情報</h1>
          <p>稼働に必要な車両情報を入力してください。</p>
        </div>

        <div class="grid">
          <div class="field">
            <label for="carType">車種</label>
            <select id="carType">
              <option value="">選択してください</option>
              <option>軽バン</option>
              <option>軽トラ</option>
              <option>普通車</option>
              <option>その他</option>
            </select>
          </div>

          <div class="field">
            <label for="carNo">車両ナンバー</label>
            <input id="carNo" placeholder="例）鹿児島 480 に 21-15">
          </div>

          <div class="field">
            <label for="blackNo">黒ナンバー</label>
            <select id="blackNo">
              <option value="">選択してください</option>
              <option>あり</option>
              <option>なし</option>
              <option>申請中</option>
            </select>
          </div>
        </div>

        <!-- 支店（任意）は削除 -->

        <div class="nav">
          <button class="btnGhost" id="backBtn4" type="button">戻る</button>
          <button class="btnPrimary" id="nextBtn4" type="button">次へ</button>
        </div>
      </section>

      <!-- STEP 5 -->
      <section class="step" data-step="5">
        <div class="head">
          <span class="badge b5">BANK</span>
          <h1>振込先</h1>
          <p>報酬振込のため、正確に入力してください。</p>
        </div>

        <div class="grid">
          <div class="field">
            <label for="bankName">銀行</label>
            <input id="bankName" placeholder="例）三井住友銀行">
          </div>
          <div class="field">
            <label for="bankBranch">支店</label>
            <input id="bankBranch" placeholder="例）鹿児島支店">
          </div>
          <div class="field">
            <label for="bankType">口座種別</label>
            <select id="bankType">
              <option value="">選択してください</option>
              <option>普通</option>
              <option>当座</option>
            </select>
          </div>
          <div class="field">
            <label for="bankNo">口座番号</label>
            <input id="bankNo" placeholder="例）1234567" inputmode="numeric">
          </div>
        </div>

        <div class="field mt">
          <label for="bankKana">口座名義（カナ）</label>
          <input id="bankKana" placeholder="例）ヤマダ タロウ">
        </div>

        <div class="nav">
          <button class="btnGhost" id="backBtn5" type="button">戻る</button>
          <button class="btnPrimary" id="nextBtn5" type="button">次へ</button>
        </div>
      </section>

      <!-- STEP 6 -->
      <section class="step" data-step="6">
        <div class="head">
          <span class="badge b6">UPLOAD</span>
          <h1>提出画像</h1>
          <p>免許証を鮮明に撮影してください（手ブレ注意）。</p>
        </div>

        <div class="uploadGrid">
          <div class="upCard">
            <div class="upTop">
              <div class="upTitle">免許証 表面（必須）</div>
              <span class="miniTag">必須</span>
            </div>
            <input id="licF" type="file" accept="image/*">
            <img class="preview" id="prevF" alt="preview front">
          </div>

          <div class="upCard">
            <div class="upTop">
              <div class="upTitle">免許証 裏面（任意）</div>
              <span class="miniTag gray">任意</span>
            </div>
            <input id="licB" type="file" accept="image/*">
            <img class="preview" id="prevB" alt="preview back">
          </div>
        </div>

        <p class="note">※ PDFでは「縦写真でも免許証が大きく見える」よう、上下の余白を自動カットして出力します。</p>

        <div class="nav">
          <button class="btnGhost" id="backBtn6" type="button">戻る</button>
          <button class="btnPrimary" id="nextBtn6" type="button">次へ</button>
        </div>
      </section>

      <!-- STEP 7 -->
      <section class="step" data-step="7">
        <div class="head">
          <span class="badge b7">TERMS</span>
          <h1>確認事項</h1>
          <p>内容を確認し、同意して次へ進んでください。</p>
        </div>

        <div class="termsBox">
          <ul>
            <li>本登録はドライバー本人が行うものとします。</li>
            <li>入力内容および提出書類は正確な情報であることを保証してください。</li>
            <li>虚申告・不正が判明した場合、登録・契約をお断りする場合があります。</li>
            <li>取得した個人情報は、業務連絡・案件調整・法令対応の目的で利用します。</li>
            <li>登録後、OFA GROUP担当者より連絡を行い案件を決定します。</li>
          </ul>
        </div>

        <div class="agreeRow">
          <input id="agree" type="checkbox">
          <div class="agreeText">上記に同意します</div>
        </div>
        <div class="note">※ 同意後「次へ」で完了画面へ進みます。</div>

        <div class="nav">
          <button class="btnGhost" id="backBtn7" type="button">戻る</button>
          <button class="btnPrimary" id="nextBtn7" type="button">次へ</button>
        </div>
      </section>

      <!-- STEP 8 -->
      <section class="step" data-step="8">
        <div class="head">
          <span class="badge b8">DONE</span>
          <h1>登録完了</h1>
          <p>
            ① まず <b>OFAメンバーシップLINE</b> を追加（または開く）<br>
            ② 次に 登録PDFを作成（保存・共有・印刷）
          </p>
        </div>

        <!-- 横3ボタン -->
        <div class="tri">
          <button class="btnLine" id="lineBtn" type="button">LINE追加/開く</button>
          <button class="btnPrimary" id="pdfBtn" type="button">登録PDF作成</button>
          <button class="btnGhost" id="howToBtn" type="button">送信方法</button>
        </div>

        <div class="note">
          ※ PDF作成後、共有ボタンから「LINE」へ送信できます。印刷は共有→印刷でOK。<br>
          ※ LINEが未追加だと送信先に出ない場合があるため、先にLINE追加をお願いします。
        </div>

        <div class="nav">
          <button class="btnGhost" id="backBtn8" type="button">戻る</button>
          <button class="btnPrimary" id="restartBtn" type="button">最初から</button>
        </div>
      </section>
    </div>

    <div class="foot">
      <div>© OFA GROUP</div>
      <div>One for All, All for One</div>
    </div>
  </div>

  <!-- TOAST -->
  <div class="toast" id="toast">保存しました</div>

  <!-- PDF用の紙（非表示） -->
  <div class="pdfPaper" id="pdfPaper">
    <div class="pdfHeader">
      <div class="pdfTitle">OFA GROUP ドライバー登録シート</div>
      <div class="pdfDate">作成日時：<span id="pdfDate"></span></div>
      <div class="pdfMotto">One for All, All for One</div>
    </div>

    <div class="pdfGrid" id="pdfGrid"></div>

    <div class="pdfSectionTitle">提出画像</div>
    <div class="pdfImgGrid">
      <div class="pdfImgBox">
        <div class="pdfImgLabel">免許証 表面（必須）</div>
        <img id="pdfImgF" alt="">
      </div>
      <div class="pdfImgBox">
        <div class="pdfImgLabel">免許証 裏面（任意）</div>
        <img id="pdfImgB" alt="">
      </div>
    </div>

    <div class="pdfFooterNote">このPDFを「OFAメンバーシップLINE」へ添付して送信してください。</div>
  </div>

  <script src="app.js?v=20260129-2"></script>
</body>
</html>
