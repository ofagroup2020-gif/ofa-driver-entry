const steps = document.querySelectorAll(".step");
let current = 1;

const barFill = document.getElementById("barFill");
const stepText = document.getElementById("stepText");

function setStep(n) {
  current = n;
  steps.forEach(s => s.classList.toggle("active", Number(s.dataset.step) === n));
  barFill.style.width = `${(n - 1) / (steps.length - 1) * 100}%`;
}

document.getElementById("nextBtn").onclick = () => {
  if (current === 7 && !document.getElementById("agree").checked) {
    alert("規約に同意してください");
    return;
  }
  if (current < steps.length) setStep(current + 1);
};

document.getElementById("backBtn").onclick = () => {
  if (current > 1) setStep(current - 1);
};

setStep(1);
